<!DOCTYPE HTML>
<html>
	<head>
		<title>Recruiter AI</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		  

	</head>
	<body class="is-preload">

		<script>
			// Generic API call function
			function callRecruiterAPIGeneric(url, data, headers) {
			  fetch(url, {
				method: 'POST',
				headers: headers,
				body: JSON.stringify(data)
			  })
				.then(response => {
				  if (!response.ok) {
					throw new Error('API request failed');
				  }
				  return response.json();
				})
				.then(result => {
            			    console.log('API call successful! ✅', result);
        	
				})
				.catch(error => {
            			    console.error('Error calling API ❌:', error);
        			  }
				});
			}
		
			// Handle form submission
			function submitForm(event) {
			  event.preventDefault(); // Prevent page reload
		
			  // Get form values
			  const candidateName = document.getElementById('name').value;
			  const candidateNumber = document.getElementById('phone').value;
			  const agentId = document.getElementById('agent-id').value;
			  const apiKey = document.getElementById('api-key').value;
			  const phoneId = document.getElementById('phone-id').value;

			  const dynamic_variables = {
				  user_name: candidateName
			  }
			  const requestData = {
				name: candidateName,
				to_number: candidateNumber,
				agent_id: agentId,
				agent_phone_number_id: phoneId,
				conversation_initiation_client_data: {
					dynamic_variables: dynamic_variables
				}
			  };

			  const headers = {
				'Content-type': "application/json",
				"xi-api-key": apiKey
			  };

			  console.log(requestData);
			  console.log(headers);
		
			  // Call API with data
			  const apiUrl = 'https://api.elevenlabs.io/v1/convai/twilio/outbound_call'; 
		
			  callRecruiterAPIGeneric(apiUrl, requestData, headers);
			}
		  </script>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class="logo">Andromiq</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Products</a></li>
							<li><a href="generic.html">Andromeda + IQ</a></li>
							<li><a href="elements.html">do not open</a></li>
						</ul>
						<ul class="icons">
							<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
							<li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									<h3>Hang tight... a call is coming faster than your Wi-Fi on a good day!</h3>

									
			
									<section class="split contact">
										<form method="post" onsubmit="event.preventDefault(); submitForm(event);">
											<div class="fields">
												<div class="field">
													<label for="name">Full Name</label>
													<input style="width: 30%" ="text" name="name" id="name" />
												</div>
												<div class="field">
													<label for="phone">Phone Number</label>
													<input style="width: 30%;"="text" name="phone" id="phone" />
												</div>
												<div class="field">
													<label for="api-key">API KEY</label>
													<input style="width: 30%;"="text" name="api-key" id="api-key" />
												</div>
												<div class="field">
													<label for="agent-id">Agent ID</label>
													<input style="width: 30%;"="text" name="agent-id" id="agent-id" />
												</div>
												<div class="field">
													<label for="phone-id">Agent Phone ID</label>
													<input style="width: 30%;"="text" name="phone-id" id="phone-id" />
												</div>
											</div>
											<ul>
												<li><input class="primary" type="submit" value="Call Me!" /></li>
											</ul>
										</form>
									</section>

					</div>

				<!-- Footer -->
					
						
					

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy;All copyrights reserved</li></ul>
						<ul><li>Developed and Designed by Amit and Yatesh</a></li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
